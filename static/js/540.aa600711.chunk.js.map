{"version":3,"file":"static/js/540.aa600711.chunk.js","mappings":"sQACA,IAAMA,EAAW,8BAEXC,EAAU,CACdC,OAAQ,mBACRC,cACE,8NAGG,SAASC,IACd,OAAOC,MAAM,GAADC,OAAIN,EAAQ,uCAAuC,CAC7DO,OAAQ,MACRN,QAAAA,IACCO,MAAK,SAAAC,GACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,MACd,GACF,CAEO,SAASC,EAAmBC,GACjC,OAAOV,MAAM,GAADC,OAAIN,EAAQ,YAAAM,OAAWS,EAAO,mBAAmB,CAC3DR,OAAQ,MACRN,QAAAA,IACCO,MAAK,SAAAC,GACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,MACd,GACF,CAEO,SAASG,EAAmBD,GACjC,OAAOV,MAAM,GAADC,OAAIN,EAAQ,YAAAM,OAAWS,EAAO,2BAA2B,CACnER,OAAQ,MACRN,QAAAA,IACCO,MAAK,SAAAC,GACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,MACd,GACF,CAEO,SAASI,EAAmBF,GACjC,OAAOV,MAAM,GAADC,OAAIN,EAAQ,YAAAM,OAAWS,EAAO,kCAAkC,CAC1ER,OAAQ,MACRN,QAAAA,IACCO,MAAK,SAAAC,GACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,MACd,GACF,CAEO,SAASK,EAAeC,GAC7B,OAAOd,MAAM,GAADC,OACPN,EAAQ,yBAAAM,OAAwBa,EAAK,8CACxC,CACEZ,OAAQ,MACRN,QAAAA,IAEFO,MAAK,SAAAC,GACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,MACd,GACF,C,yICpEaO,EAAYC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+DAMtBC,EAAMH,EAAAA,GAAAA,IAAUI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,uD,SCsE7B,EAlEqB,WACnB,IAAQR,GAAYW,EAAAA,EAAAA,MAAZX,QACRY,GAAkCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GACxBI,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHtB,IACLD,EAAAA,EAAAA,GAAmBC,GAChBP,MAAK,SAAA8B,GACJN,EAAaM,EACf,IACCC,OAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAM,wCAAWA,EAAM,GACnD,GAAG,CAACzB,IAIJ,OACEgB,IACEW,EAAAA,EAAAA,MAAA,QAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACEC,KAAK,SACLC,QAPa,WAAH,IAAAC,EAAAC,EAAA,OAASb,EAA6B,QAArBY,EAAe,QAAfC,EAACf,EAASgB,aAAK,IAAAD,OAAA,EAAdA,EAAgBE,YAAI,IAAAH,EAAAA,EAAI,IAAK,EAQzDI,MAAO,CAAEC,QAAS,SAAUT,SAC7B,aAIDD,EAAAA,EAAAA,MAACtB,EAAS,CAAAuB,SAAA,EACRC,EAAAA,EAAAA,KAAA,OACES,IACEtB,EAAUuB,YAAW,mCAAAhD,OACkByB,EAAUuB,aAC7C,oDAENC,IAAI,WAENb,EAAAA,EAAAA,MAAClB,EAAG,CAAAmB,SAAA,EACFC,EAAAA,EAAAA,KAAA,MAAAD,SAAKZ,EAAUyB,SACfd,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,eAAac,KAAKC,MAA+B,GAAzB3B,EAAU4B,cAAmB,SACxDf,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAIZ,EAAU6B,YACdhB,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAIZ,EAAU8B,OAAOC,KAAI,SAAAC,GAAI,OAAIA,EAAKC,IAAI,IAAEC,KAAK,cAGrDrB,EAAAA,EAAAA,KAAA,MAAAD,SAAI,4BACJD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACsB,EAAAA,GAAI,CAACC,GAAG,OAAOlB,MAAOhB,EAASgB,MAAMN,SAAC,YAIzCC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACsB,EAAAA,GAAI,CAACC,GAAG,UAAUlB,MAAOhB,EAASgB,MAAMN,SAAC,kBAK9CC,EAAAA,EAAAA,KAACwB,EAAAA,SAAQ,CAACC,UAAUzB,EAAAA,EAAAA,KAAA,OAAAD,SAAK,uBAAyBA,UAChDC,EAAAA,EAAAA,KAAC0B,EAAAA,GAAM,QAKjB,C","sources":["components/api.js","pages/movieDetails/movieDetails.styled.js","pages/movieDetails/MovieDetails.jsx"],"sourcesContent":["// const API_KEY = 'cf9622ae437e8b15d1420bba018df313';\nconst BASE_URL = 'https://api.themoviedb.org/';\n\nconst headers = {\n  accept: 'application/json',\n  Authorization:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjZjk2MjJhZTQzN2U4YjE1ZDE0MjBiYmEwMThkZjMxMyIsInN1YiI6IjY0ZDVmYzc4ZGI0ZWQ2MDExYzRiYTcwMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Y_orMpemfH91hpKs_ou-jpluJjSPnErJapPgiAuLRlU',\n};\n\nexport function apiGetTrendingMovies() {\n  return fetch(`${BASE_URL}3/trending/movie/day?language=en-US`, {\n    method: 'GET',\n    headers,\n  }).then(data => {\n    if (!data.ok) {\n      throw new Error(data.status);\n    }\n    return data.json();\n  });\n}\n\nexport function apiGetMovieDetails(movieId) {\n  return fetch(`${BASE_URL}3/movie/${movieId}?language=en-US`, {\n    method: 'GET',\n    headers,\n  }).then(data => {\n    if (!data.ok) {\n      throw new Error(data.status);\n    }\n    return data.json();\n  });\n}\n\nexport function apiGetMovieCredits(movieId) {\n  return fetch(`${BASE_URL}3/movie/${movieId}/credits?language=en-US`, {\n    method: 'GET',\n    headers,\n  }).then(data => {\n    if (!data.ok) {\n      throw new Error(data.status);\n    }\n    return data.json();\n  });\n}\n\nexport function apiGetMovieReviews(movieId) {\n  return fetch(`${BASE_URL}3/movie/${movieId}/reviews?language=en-US&page=1`, {\n    method: 'GET',\n    headers,\n  }).then(data => {\n    if (!data.ok) {\n      throw new Error(data.status);\n    }\n    return data.json();\n  });\n}\n\nexport function apiSearchMovie(query) {\n  return fetch(\n    `${BASE_URL}3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    {\n      method: 'GET',\n      headers,\n    }\n  ).then(data => {\n    if (!data.ok) {\n      throw new Error(data.status);\n    }\n    return data.json();\n  });\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  margin-top: 10px;\n  display: flex;\n  gap: 20px;\n`;\n\nexport const Div = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n","import { Suspense } from 'react';\nimport {\n  Outlet,\n  useParams,\n  Link,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport { apiGetMovieDetails } from 'components/api';\nimport { useEffect, useState } from 'react';\nimport { Div, Container } from './movieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieInfo, setMovieInfo] = useState(null);\n  const location = useLocation(); // объект  уже с новым стейтом фром\n  const navigate = useNavigate(); // функция\n\n  useEffect(() => {\n    if (!movieId) return;\n    apiGetMovieDetails(movieId)\n      .then(response => {\n        setMovieInfo(response);\n      })\n      .catch(error => console.error('Ошибка:', error));\n  }, [movieId]);\n\n  const handleGoBack = () => navigate(location.state?.from ?? '/');\n\n  return (\n    movieInfo && (\n      <main>\n        <button\n          type=\"button\"\n          onClick={handleGoBack}\n          style={{ display: 'block' }}\n        >\n          Go back\n        </button>\n\n        <Container>\n          <img\n            src={\n              movieInfo.poster_path\n                ? `https://image.tmdb.org/t/p/w300/${movieInfo.poster_path}`\n                : 'https://placehold.jp/24/cc9999/993333/150x300.jpg'\n            }\n            alt=\"movie\"\n          />\n          <Div>\n            <h1>{movieInfo.title}</h1>\n            <p>User Score: {Math.round(movieInfo.vote_average * 10)} %</p>\n            <h2>Overview</h2>\n            <p>{movieInfo.overview}</p>\n            <h3>Genres</h3>\n            <p>{movieInfo.genres.map(item => item.name).join(' ')}</p>\n          </Div>\n        </Container>\n        <h4>Additional information</h4>\n        <ul>\n          <li>\n            <Link to=\"cast\" state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" state={location.state}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading subpage...</div>}>\n          <Outlet />\n        </Suspense>\n      </main>\n    )\n  );\n};\nexport default MovieDetails;\n"],"names":["BASE_URL","headers","accept","Authorization","apiGetTrendingMovies","fetch","concat","method","then","data","ok","Error","status","json","apiGetMovieDetails","movieId","apiGetMovieCredits","apiGetMovieReviews","apiSearchMovie","query","Container","styled","_templateObject","_taggedTemplateLiteral","Div","_templateObject2","useParams","_useState","useState","_useState2","_slicedToArray","movieInfo","setMovieInfo","location","useLocation","navigate","useNavigate","useEffect","response","catch","error","console","_jsxs","children","_jsx","type","onClick","_location$state$from","_location$state","state","from","style","display","src","poster_path","alt","title","Math","round","vote_average","overview","genres","map","item","name","join","Link","to","Suspense","fallback","Outlet"],"sourceRoot":""}